<!--suppress XmlHighlighting -->
<linkset>
    <html:link rel="localization" href="__addonRef__-preferences.ftl"/>
    <html:link rel="localization" href="__addonRef__-tts.ftl"/>
</linkset>
<vbox id="zotero-prefpane-__addonRef__"
      onload="Zotero.__addonInstance__.hooks.onPrefsLoad('load', window.document)"
      xmlns:html="http://www.w3.org/1999/xhtml"
>
<vbox class="main-section" id="__addonRef__-general">
    <label>
        <html:h1 data-l10n-id="pref-sect-general"></html:h1>
    </label>

    <!-- queue or cancel on playing new items -->
    <html:div id="__addonRef__-general-queue">
        <label data-l10n-id="pref-general-queue-label"></label>
        <radiogroup preference="__prefsPrefix__.newItemBehaviour" style="padding-left:20px">
            <radio data-l10n-id="pref-general-queue-disable"
                   value="cancel"/>
            <radio data-l10n-id="pref-general-queue-enable"
                   value="queue"/>
        </radiogroup>
    </html:div>

    <html:div id="__addonRef__-general-tabs">
        <hbox>
            <html:input type="checkbox"
                        id="__addonRef__-pref-general-reloadTabs"
                        preference="__prefsPrefix__.general.reloadTabs"
            />
            <html:label for="__addonRef__-pref-general-reloadTabs"
                        data-l10n-id="pref-general-reloadTabs"
            />
        </hbox>
    </html:div>
        
    <!--// TODO: future add dropdown to select TTS engine
             needs to call hook to gracefully transfer (cancel if playing/paused, etc)-->
    <!-- TTS Engine selection -->
    <html:div id="__addonRef__-general-engine">
        <label data-l10n-id="pref-general-engine-label"></label>
        <radiogroup preference="__prefsPrefix__.ttsEngine.current"
                    style="padding-left:20px"
                    oncommand="Zotero.__addonInstance__.hooks.onPrefsRefresh('engine-change', window.document)">
            <radio id="engine-webSpeech"
                   data-l10n-id="pref-general-engine-webSpeech"
                   value="webSpeech"/>
            <radio id="engine-azure"
                   data-l10n-id="pref-general-engine-azure"
                   value="azure"/>
        </radiogroup>
    </html:div>
</vbox>

<vbox class="main-section" id="__addonRef__-webSpeech">
    <label id="__addonRef__-webSpeech-header">
        <html:h1 data-l10n-id="pref-sect-wsa"></html:h1>
    </label>
    <html:p id="webSpeech-status"
            data-l10n-id="pref-status-unknown"
            style="text-align:center; color:tomato !important; font-weight:bold;">
    </html:p>

    <!-- WSA voice -->
    <vbox>
        <html:label data-l10n-id="pref-wsa-voice"
                    for="webSpeech-voice">
        </html:label>
        <menulist id="webSpeech-voice" preference="__prefsPrefix__.webSpeech.voice">
            <menupopup id="webSpeech-voice-popup">
                <!-- populate at runtime -->
            </menupopup>
        </menulist>
    </vbox>

    <!-- volume label and slider -->
    <vbox>
        <hbox align="center">
            <html:label data-l10n-id="pref-wsa-volume"
                        for="webSpeech-volume">
            </html:label>
            <html:input preference="__prefsPrefix__.webSpeech.volume"
                        readonly="true"
                        style="width:30px"
            />
            <html:label>%</html:label>
        </hbox>

        <html:input id="webSpeech-volume"
                    type="range"
                    min="0"
                    max="100"
                    value="50"
                    preference="__prefsPrefix__.webSpeech.volume"
                    style="width:50%"
        />
    </vbox>

    <!-- rate label and slider -->
    <vbox>
        <hbox align="center">
            <html:label data-l10n-id="pref-wsa-rate"
                        for="webSpeech-rate">
            </html:label>
            <html:input preference="__prefsPrefix__.webSpeech.rate"
                        readonly="true"
                        style="width:30px"
            />
            <html:label>%</html:label>
        </hbox>

        <!-- WSA spec allows for x0.1-10 range but that seems excessive for now -->
        <html:input id="webSpeech-rate"
                    type="range"
                    min="25"
                    max="400"
                    value="100"
                    preference="__prefsPrefix__.webSpeech.rate"
                    style="width:50%"
        />
    </vbox>

    <!-- pitch label and slider -->
    <vbox>
        <hbox align="center">
            <html:label data-l10n-id="pref-wsa-pitch"
                        for="webSpeech-pitch">
            </html:label>
            <html:input preference="__prefsPrefix__.webSpeech.pitch"
                        readonly="true"
                        style="width:30px"
            />
            <html:label>%</html:label>
        </hbox>

        <html:input id="webSpeech-pitch"
                    type="range"
                    min="0"
                    max="200"
                    value="100"
                    preference="__prefsPrefix__.webSpeech.pitch"
                    style="width:50%"
        />
    </vbox>

    <html:button id="webSpeech-testVoice-btn"
                 onclick="Zotero.__addonInstance__.hooks.onSpeakTest('webSpeech')"
                 data-l10n-id="pref-wsa-testVoice">
    </html:button>

</vbox>

<!-- NEW ENGINES HERE -->

<!-- Azure Speech Settings -->
<vbox class="main-section" 
      id="__addonRef__-azure">
    <label id="__addonRef__-azure-header">
        <html:h1 data-l10n-id="pref-sect-azure"></html:h1>
    </label>
    <html:p id="azure-status"
            data-l10n-id="pref-status-unknown"
            style="text-align:center; color:tomato !important; font-weight:bold;">
    </html:p>

    <!-- Subscription Key -->
    <vbox>
        <html:label data-l10n-id="pref-azure-key"
                    for="azure-key">
        </html:label>
        <html:input id="azure-key"
                    type="password"
                    preference="__prefsPrefix__.azure.subscriptionKey"
                    onchange="Zotero.__addonInstance__.hooks.onPrefsRefresh('azure-key-change', window.document)"
        />
    </vbox>

    <!-- Region -->
    <vbox>
        <html:label data-l10n-id="pref-azure-region"
                    for="azure-region">
        </html:label>
        <html:input id="azure-region"
                    preference="__prefsPrefix__.azure.region"
                    onchange="Zotero.__addonInstance__.hooks.onPrefsRefresh('azure-region-change', window.document)"
        />
    </vbox>

    <!-- Language -->
    <vbox>
        <html:label data-l10n-id="pref-azure-language"
                    for="azure-language">
        </html:label>
        <menulist id="azure-language"
                  preference="__prefsPrefix__.azure.language"
                  oncommand="Zotero.__addonInstance__.hooks.onPrefsRefresh('azure-language-change', window.document)">
            <menupopup id="azure-language-popup">
                <!-- populate at runtime -->
            </menupopup>
        </menulist>
    </vbox>

    <!-- Voice -->
    <vbox>
        <html:label data-l10n-id="pref-azure-voice"
                    for="azure-voice">
        </html:label>
        <menulist id="azure-voice"
                  preference="__prefsPrefix__.azure.voice"
                  oncommand="Zotero.__addonInstance__.hooks.onPrefsRefresh('azure-voice-change', window.document)">
            <menupopup id="azure-voice-popup">
                <!-- populate at runtime -->
            </menupopup>
        </menulist>
    </vbox>

    <!-- Volume -->
    <vbox>
        <hbox align="center">
            <html:label data-l10n-id="pref-azure-volume"
                        for="azure-volume">
            </html:label>
            <html:input preference="__prefsPrefix__.azure.volume"
                        readonly="true"
                        value="100"
                        style="width:30px"
            />
        </hbox>
        <html:input type="range"
                    id="azure-volume"
                    min="0"
                    max="100"
                    value="100"
                    preference="__prefsPrefix__.azure.volume"
                    style="width:50%"
        />
    </vbox>

    <!-- Rate -->
    <vbox>
        <hbox align="center">
            <html:label data-l10n-id="pref-azure-rate"
                        for="azure-rate">
            </html:label>
            <html:input preference="__prefsPrefix__.azure.rate"
                        readonly="true"
                        value="100"
                        style="width:30px"
            />
        </hbox>
        <html:input type="range"
                    id="azure-rate"
                    min="25"
                    max="400"
                    value="100"
                    preference="__prefsPrefix__.azure.rate"
                    style="width:50%"
        />
    </vbox>

    <!-- Test Text Input -->
    <vbox>
        <html:label data-l10n-id="pref-azure-testText"
                    for="azure-testText">
        </html:label>
        <html:input id="azure-testText"
                    type="text"
        />
    </vbox>

    <!-- Test Voice Button -->
    <html:button id="azure-testVoice-btn"
                 onclick="Zotero.__addonInstance__.hooks.onSpeakTest('azure', window.document.getElementById('azure-testText').value)"
                 data-l10n-id="pref-azure-testVoice">
    </html:button>

</vbox>

<vbox class="main-section" id="__addonRef__-shortcuts">
    <label>
        <html:h1 data-l10n-id="pref-sect-shortcuts"></html:h1>
    </label>

    <label for="__addonRef__-shortcuts-grid">
        <html:h4 data-l10n-id="pref-subsect-shortcuts-keys"
                 style="margin-bottom:1px">
        </html:h4>
    </label>

    <html:p data-l10n-id="pref-shortcuts-p1"
            style="margin-left:20px;">
    </html:p>

    <html:div
            id="__addonRef__-shortcuts-grid"
            style="display: grid;align-items: center;grid-template-columns: 1fr max-content max-content;"
    >
        <html:label data-l10n-id="pref-shortcuts-speak"
                    for="__addonRed__-textbox-speak">
        </html:label>
        <html:label class="modifier optional-shift"/>
        <html:input type="text"
                    id="__addonRed__-textbox-speak"
                    maxlength="1"
                    size="1"
                    preference="__prefsPrefix__.shortcuts.speak"/>

        <html:label data-l10n-id="pref-shortcuts-pause"
                    for="__addonRed__-textbox-pause">
        </html:label>
        <html:label class="modifier required-shift"/>
        <html:input type="text"
                    id="__addonRed__-textbox-pause"
                    maxlength="1"
                    size="1"
                    preference="__prefsPrefix__.shortcuts.pause"/>

        <html:label data-l10n-id="pref-shortcuts-cancel"
                    for="__addonRed__-textbox-cancel">
        </html:label>
        <html:label class="modifier required-shift"/>
        <html:input type="text"
                    id="__addonRed__-textbox-cancel"
                    maxlength="1"
                    size="1"
                    preference="__prefsPrefix__.shortcuts.cancel"/>

        <html:label data-l10n-id="pref-shortcuts-cycleFav"
                    for="__addonRed__-textbox-cycleFav">
        </html:label>
        <html:label class="modifier required-shift"/>
        <html:input type="text"
                    id="__addonRed__-textbox-cycleFav"
                    maxlength="1"
                    size="1"
                    preference="__prefsPrefix__.shortcuts.cycleFavourite"/>

        <html:label data-l10n-id="pref-shortcuts-speedUp"
                    for="__addonRed__-textbox-speedUp">
        </html:label>
        <html:label class="modifier required-shift"/>
        <html:input type="text"
                    id="__addonRed__-textbox-speedUp"
                    maxlength="1"
                    size="1"
                    preference="__prefsPrefix__.shortcuts.speedUp"/>

        <html:label data-l10n-id="pref-shortcuts-speedDown"
                    for="__addonRed__-textbox-speedDown">
        </html:label>
        <html:label class="modifier required-shift"/>
        <html:input type="text"
                    id="__addonRed__-textbox-speedDown"
                    maxlength="1"
                    size="1"
                    preference="__prefsPrefix__.shortcuts.speedDown"/>
    </html:div>

    <label for="__addonRef__-shortcuts-shift">
        <html:h4 data-l10n-id="pref-subsect-shortcuts-shiftMod"
                 style="margin-bottom:1px">
        </html:h4>
    </label>

    <html:div id="__addonRef__-shortcuts-shift">
        <html:p data-l10n-id="pref-shiftMod-p1"
                style="margin-left:20px;">
        </html:p>

        <html:p data-l10n-id="pref-shiftMod-p2"
                style="margin-left:20px;">
        </html:p>

        <label data-l10n-id="pref-shiftMod-swapLib"></label>
        <radiogroup
                preference="__prefsPrefix__.shortcuts.swapLibraryItem"
                style="padding-left:30px;"
                orient="horizontal"
        >
            <radio data-l10n-id="pref-shiftMod-swapLib-false"
                   value="false"/>
            <radio data-l10n-id="pref-shiftMod-swapLib-true"
                   value="true"/>
        </radiogroup>

        <label data-l10n-id="pref-shiftMod-swapAnno"></label>
        <radiogroup
                preference="__prefsPrefix__.shortcuts.swapAnnotation"
                style="padding-left:30px;"
                orient="horizontal"
        >
            <radio data-l10n-id="pref-shiftMod-swapAnno-false"
                   value="false"/>
            <radio data-l10n-id="pref-shiftMod-swapAnno-true"
                   value="true"/>
        </radiogroup>

        <label data-l10n-id="pref-shiftMod-swapSpeakSelection"></label>
        <radiogroup
                preference="__prefsPrefix__.shortcuts.swapSpeakSelection"
                style="padding-left:30px;"
                orient="horizontal"
        >
            <radio data-l10n-id="pref-shiftMod-swapSpeakSelection-false"
                   value="false"/>
            <radio data-l10n-id="pref-shiftMod-swapSpeakSelection-true"
                   value="true"/>
        </radiogroup>
    </html:div>

</vbox>

<vbox class="main-section" id="__addonRef__-advanced">
    <label>
        <html:h1 data-l10n-id="pref-sect-advanced"></html:h1>
    </label>

    <label for="__addonRef__-advanced-subs">
        <html:h4 data-l10n-id="pref-subsect-advanced-subs"
                 style="margin-bottom:1px">
        </html:h4>
    </label>
    <html:div id="__addonRef__-advanced-subs">
        <html:p data-l10n-id="pref-subs-p1"
                style="margin-left:20px;">
        </html:p>

        <html:div id="__addonRef__-advanced-subs-builtin">
            <vbox>

                <hbox>
                    <html:input type="checkbox"
                                id="__addonRef__-pref-subs-citationsOverall"
                                onclick="Zotero.__addonInstance__.hooks.onPrefsRefresh('subs-cite-overall', window.document)"
                    />
                    <html:label for="__addonRef__-pref-subs-citationsOverall"
                                data-l10n-id="pref-subs-citationsOverall"
                    />
                </hbox>

                <hbox>
                    <html:ul style="list-style-type:none; padding-left:20px; margin:5px"
                             class="__addonRef__-pref-subs-citations-subitems"
                             onclick="Zotero.__addonInstance__.hooks.onPrefsRefresh('subs-cite-subitem', window.document)"
                    >
                        <html:li>
                            <!-- (<author>, <year>, <pageNo>), etc-->
                            <html:input type="checkbox"
                                        id="__addonRef__-pref-subs-citationsParenthetical"
                                        preference="__prefsPrefix__.subs.removeParenCitations"
                            />
                            <html:label for="__addonRef__-pref-subs-citationsParenthetical"
                                        data-l10n-id="pref-subs-citationsParenthetical"
                            />
                        </html:li>
                        <html:li>
                            <!-- [<number>], etc -->
                            <html:input type="checkbox"
                                        id="__addonRef__-pref-subs-citationsNumeric"
                                        preference="__prefsPrefix__.subs.removeNumericCitations"
                            />
                            <html:label for="__addonRef__-pref-subs-citationsNumeric"
                                        data-l10n-id="pref-subs-citationsNumeric"
                            />
                        </html:li>
                    </html:ul>

                </hbox>

                <hbox>
                    <html:input type="checkbox"
                                id="__addonRef__-pref-subs-emails"
                                preference="__prefsPrefix__.subs.removeEmails"
                    />
                    <html:label for="__addonRef__-pref-subs-emails"
                                data-l10n-id="pref-subs-emails"
                    />
                </hbox>

                <hbox>
                    <html:input type="checkbox"
                                id="__addonRef__-pref-subs-urls"
                                preference="__prefsPrefix__.subs.removeURLs"
                    />
                    <html:label for="__addonRef__-pref-subs-urls"
                                data-l10n-id="pref-subs-urls"
                    />
                </hbox>

                <hbox>
                    <html:input type="checkbox"
                                id="__addonRef__-pref-subs-greekLetters"
                                preference="__prefsPrefix__.subs.fixGreekLetters"
                    />
                    <html:label for="__addonRef__-pref-subs-greekLetters"
                                data-l10n-id="pref-subs-greekLetters"
                    />
                </hbox>

            </vbox>
        </html:div>

        <html:p data-l10n-id="pref-subs-p2"
                style="margin-left:20px;">
        </html:p>

        <html:textarea
                id="__addonRef__-advanced-subs-input"
                style="height: auto; width:100%;"
                rows="9"
                data-l10n-id="pref-subs-placeholder"
                onkeypress="Zotero.__addonInstance__.hooks.onPrefsRefresh('subs-text', window.document)"
        >
        </html:textarea>

        <html:p
                id="__addonRef__-advanced-subs-warning"
                data-l10n-id="pref-subs-warning"
                style="margin-left:20px; color:tomato !important; margin-top:0px; visibility:hidden;"
        >
        </html:p>
    </html:div>

    <label for="__addonRef__-advanced-faves">
        <html:h4 data-l10n-id="pref-subsect-advanced-faves"
                 style="margin-bottom:1px">
        </html:h4>
    </label>
    <html:div id="__addonRef__-advanced-faves">
        <html:p data-l10n-id="pref-faves-p1"
                style="margin-left:20px;">
        </html:p>

        <html:button
                onclick="Zotero.__addonInstance__.hooks.onPrefsRefresh('faves-add-voice', window.document)"
                data-l10n-id="pref-faves-addVoice"
                style="width:100%">
        </html:button>

        <!-- faves box -->
        <vbox>
            <html:label data-l10n-id="pref-faves-list"
                        for="faves-list">
            </html:label>
            <html:select id="faves-list"
                         size="4">
            </html:select>
        </vbox>

        <html:button
                onclick="Zotero.__addonInstance__.hooks.onPrefsRefresh('faves-remove-voice', window.document)"
                data-l10n-id="pref-faves-removeVoice"
                style="width:50%">
        </html:button>

    </html:div>

</vbox>
</vbox>